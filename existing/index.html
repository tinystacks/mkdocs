
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://docs.tinystacks.com/existing/" rel="canonical"/>
<link href="../assets/tinystacks.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-8.5.10" name="generator"/>
<title>Deploy an existing application - TinyStacks Documentation</title>
<link href="../assets/stylesheets/main.975780f9.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.2505c338.min.css" rel="stylesheet"/>
<meta content="#000000" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PP279NG');
  </script>
<!-- End Google Tag Manager -->
</head>
<body data-md-color-accent="" data-md-color-primary="black" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#framework-support">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="TinyStacks Documentation" class="md-header__button md-logo" data-md-component="logo" href="https://www.tinystacks.com" title="TinyStacks Documentation">
<img alt="logo" src="../assets/tinystacks.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            TinyStacks Documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Deploy an existing application
            
          </span>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="TinyStacks Documentation" class="md-nav__button md-logo" data-md-component="logo" href="https://www.tinystacks.com" title="TinyStacks Documentation">
<img alt="logo" src="../assets/tinystacks.png"/>
</a>
    TinyStacks Documentation
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1">
          For App Developers
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="For App Developers" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          For App Developers
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        Introduction
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2" id="__nav_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_2">
          Get Started
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Get Started" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_2">
<span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../service-connections/">
        Configure AWS and Git service connections
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../create-stack/">
        Create your first stack
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Deploy an existing application
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Deploy an existing application
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#framework-support">
    Framework support
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prerequisites">
    Prerequisites
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-new-stack">
    Create a new stack
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-your-stack">
    Configure your stack
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#select-your-framework">
    Select your framework
  </a>
<nav aria-label="Select your framework" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#docker-apps-additional-instructions">
    Docker apps: additional instructions
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#choosing-serverless-or-container-deployment">
    Choosing serverless or container deployment
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#further-customizing-your-deployment">
    Further customizing your deployment
  </a>
<nav aria-label="Further customizing your deployment" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-your-vpc-optional-for-serverless">
    Configure Your VPC (optional for serverless)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#add-a-database">
    Add a Database
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#amazon-ecs-container-architecture-only">
    Amazon ECS (container architecture only)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aws-lambda-serverless-architecture-only">
    AWS Lambda (serverless architecture only)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#front-end-routing">
    Front-End Routing
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-your-stack">
    Testing your stack
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#properly-containerizing-your-application">
    Properly containerizing your application
  </a>
<nav aria-label="Properly containerizing your application" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#filesystem-storage">
    Filesystem storage
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#shared-memory">
    Shared memory
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_4" id="__nav_1_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_2_4">
          How It Works
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="How It Works" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_2_4">
<span class="md-nav__icon md-icon"></span>
          How It Works
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../architecture/">
        Architecture
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../concepts/">
        Concepts
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../security/">
        How we secure your stack
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../iam-policy/">
        Full AWS IAM Policy used by TinyStacks
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_5" id="__nav_1_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_2_5">
          Features
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Features" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_2_5">
<span class="md-nav__icon md-icon"></span>
          Features
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../basic-settings/">
        Basic settings
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../builds-releases/">
        Builds, releases, and deployments
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../compute/">
        Compute
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../serverless/">
        Serverless
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../autoscaling/">
        Autoscaling
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../networking/">
        Networking
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../database/">
        Databases
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../stages/">
        Stages
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../environment-variables/">
        Environment variables
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../load-balancers/">
        Load balancers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../domain-names-https/">
        Domain names and HTTPS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sidecars/">
        Sidecars
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../logging-monitoring/">
        Logging and monitoring
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../customizing/">
        Customizing your stacks
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../integrations/">
        Integrations with other systems
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-retention/">
        Data retention
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../integrations/">
        Integrating other DevOps services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../connections-manage/">
        Managing service connections
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_6" id="__nav_1_2_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_2_6">
          Troubleshooting
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Troubleshooting" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_2_6">
<span class="md-nav__icon md-icon"></span>
          Troubleshooting
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../troubleshooting/">
        Troubleshooting guide
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2_7" id="__nav_1_2_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_2_7">
          The TinyStacks Advantage
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="The TinyStacks Advantage" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_2_7">
<span class="md-nav__icon md-icon"></span>
          The TinyStacks Advantage
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../comparisons/">
        How TinyStacks stacks up
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vendors/">
        For Vendors
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/">
        API Guide
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Deploy an existing application</h1>
<p>In our guide to <a href="../create-stack/">creating your first stack</a>, we showed you how to launch one of our sample applications as a fully scalable deployment on the cloud. But it's just as easy to package and deploy an existing application! </p>
<h2 id="framework-support">Framework support</h2>
<p>TinyStacks directly supports projects the following languages and frameworks: </p>
<ul>
<li>Node.js</li>
<li>Python</li>
<li>Java</li>
<li>PHP</li>
<li>Ruby</li>
</ul>
<p>If your project uses one of these languages or frameworks, congratulations! Your code will run as is on TinyStacks with no manual intervention required. </p>
<p>You can also run any other framework or language (e.g., .NET Core, Rust, Go, etc.) by building it into a Docker container. This will require adding a few files to your repository. If you're unfamiliar with Docker, <a href="https://www.tinystacks.com/blog-post/hello-world-express-app-with-docker/">check out our walk-through for creating a Dockerfile</a> on the TinyStacks blog. </p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before you begin this guide, make sure you have set up your AWS and Git service connections as outlined in <a href="../service-connections/">Configure AWS and Git service connections</a>.</p>
<p>As discussed above, if your framework or language is currently not supported directly by TinyStacks, you will need to have a Dockerfile in the root of your repository.</p>
<h2 id="create-a-new-stack">Create a new stack</h2>
<p>After you configure your connections, you'll be prompted to select a project. You can either select a TinyStacks starter project or use your own project. For this guide, we'll be using your own project. </p>
<p>Select <strong>My projects</strong>. You should see a list of all of the repositories available in your Git account. Find the repository whose code you are going to deploy and click <strong>Prepare to deploy</strong>.</p>
<p><img alt="TinyStacks - select a project for your stack" src="../img/tinystacks-existing-select-project.png"/></p>
<p>You should now be on the <strong>Configure your stack page</strong>. </p>
<h2 id="configure-your-stack">Configure your stack</h2>
<p>On the <strong>Configure your stack</strong> page, you will be able to set a few parameters for your stack:</p>
<ul>
<li><strong>Project name</strong>. Give your project an easily identifiable name. Since we will use this name when creating various components of your infrastructure, it's best to keep it short. We recommend using 20 characters or less.</li>
<li><strong>Branch</strong>. The Git branch from which to build your code. For a production deployment, this is typically <strong>main</strong> or <strong>master</strong>. </li>
<li><strong>Port</strong>: If the application in your Docker container is using a port other than the default (8000) to serve traffic, enter it here. </li>
<li><strong>Custom health check</strong>: AWS services such as Application Load Balancer use health checks to determine if an instance of your application is running correctly. Instances that fail a health check are destroyed and replaced with healthy instances. By default, TinyStacks uses the endpoint <code>/healthy</code> to check application health. If you use a different endpoint, specify it here. </li>
</ul>
<p><img alt="TinyStacks - configure your stack" src="../img/tinystacks-existing-configure-your-stack.png"/></p>
<p>When ready, click <strong>Next</strong>. </p>
<h2 id="select-your-framework">Select your framework</h2>
<p>On the next page, you'll be asked to confirm your settings. You will also need to select your application framework and framework version. </p>
<p>If you choose a supported framework like Node.js, Python, etc. (i.e., anything other than Docker), you will have several fields where you can customize the root directory of your app. You will also need to specify the Build and Run commands. For example, for a Django app, you would specify <code>pip3 install -r requirements.txt</code> to install all required Python packages and <code>gunicorn --worker-tmp-dir /dev/shm mysite.wsgi</code> to start Gunicorn and run your Django app. </p>
<p><img alt="TinyStacks - configure your stack" src="../img/tinystacks-existing-configure-supported-frameworks.png"/></p>
<p>If you choose Docker as your application framework, we'll ask you to provide the relative path of your directory where your Dockerfile resides in your repository.</p>
<p><img alt="TinyStacks - configure your stack" src="../img/tinystacks-existing-configure-framework.png"/></p>
<p>Once you are done, click <strong>Set up infrastructure</strong>. </p>
<h3 id="docker-apps-additional-instructions">Docker apps: additional instructions</h3>
<p><em>Note</em>: This section only applies if you select <strong>Docker</strong> as your framework. All other supported frameworks require no manual intervention. </p>
<p>If you choose Docker, on the next screen we will give you a set of files to download and add to your Git repository: </p>
<ul>
<li>A <code>Dockerfile</code>. This file contains the instructions for preparing your Docker container, which will run your application code. Your container will need to contain your application framework, as well as any configuration files and environment variables necessary to run your application. </li>
<li>A <code>build.yml</code> file, which AWS CodeDeploy will use to create the latest version of your Docker container and store it in an Amazon Elastic Code Repository (ECR) repo in your AWS account. </li>
<li>A <code>release.yml</code> file, which AWS CodeDeploy will use to run your Docker container on an Amazon Elastic Container Service (ECS) cluster hosted in your AWS account. </li>
</ul>
<p>For more details on these files and the elements of a TinyStacks deployment, <a href="../architecture/">see our architecture page</a>.</p>
<p>The root directory of your repo should look something like the example below after you are done:</p>
<p><img alt="TinyStacks - root of repository with all required files present" src="../img/tinystacks-existing-3.png"/></p>
<p>Once you are done, click <strong>Next</strong>. </p>
<h2 id="choosing-serverless-or-container-deployment">Choosing serverless or container deployment</h2>
<p>You have one more step to go and then you're ready to launch your stack! After clicking <strong>Deploy</strong>, you'll see the screen below. Here, you need to select whether to launch your application using either serverless or container architecture. </p>
<p><img alt="TinyStacks - configure stack" src="../img/tinystacks-create-8.png"/></p>
<p>To keep costs low for this initial walk-through, select <strong>Serverless</strong>. (For more information on which architecture to choose for production applications, see (Architecture)[architecture.md] and (Serverless)[serverless.md].)</p>
<h2 id="further-customizing-your-deployment">Further customizing your deployment</h2>
<p>This screen visualizes all of the AWS resources that TinyStacks will use or create on your behalf. These components and what they contribute to your stack are discussed in detail <a href="../architecture/">in our architectural guide</a>. Briefly, they include: </p>
<ul>
<li>Your <strong>Git repo</strong> (either GitHub or GitLab) that holds your application code. </li>
<li><strong>AWS CodeBuild</strong> to build and deploy your project as a Docker container. </li>
<li>An <strong>Amazon Elastic Container Repository (ECR) repo</strong> for storing your Docker container's versions. </li>
<li>An <strong>Amazon Elastic Container Service (ECS) cluster</strong> for hosting your running Docker containers. </li>
<li><strong>Amazon API Gateway</strong> for routing traffic to your application's exposed endpoints. </li>
<li><strong>Amazon CloudWatch</strong> for monitoring performance and storing application logs.</li>
<li>An optional <strong>database</strong> for storing application data. </li>
</ul>
<p>Additionally, you can see and configure several additional options: </p>
<ul>
<li>The <strong>AWS pricing breakdown</strong> gives you a sense of what you'll spend per month for your stack in its current configuration. </li>
<li>You can define <strong>Environment variables</strong> as name-value pairs that will be exposed as environment variables to your running application's Docker container. </li>
</ul>
<p>If a tile has a gear icon in the upper right corner, you can click it to configure advanced options for that tile. Configurable options include the following. </p>
<h3 id="configure-your-vpc-optional-for-serverless">Configure Your VPC (optional for serverless)</h3>
<p>If you choose container architecture, TinyStacks will by default create a new, secure VPC with three public and three isolated subnets. Your application will run into the isolated subnets. </p>
<p><img alt="TinyStacks - configure VPC" src="../img/tinystacks-vpc-config.png"/></p>
<p>You can click the gear icon to opt instead to use your own pre-created VPC from your AWS account. You can use your own VPC that you created or a VPC that TinyStacks created for one of your other stacks. </p>
<p><img alt="TinyStacks - configure VPC" src="../img/tinystacks-vpc-select-existing.png"/></p>
<p>You can also option to turn the isolated subnets into private subnets by adding a NAT Gateway. This will enable applications running in these subnets to make calls out to the public Internet. You should enable this if your application has an external dependency, such as on a publicly hosted Web service. (Note: You will incur an hourly charge for your NAT Gateway as well as data transfer charges for every 1GB of data that flows to the Internet or to compute capacity in a different Availability Zone. See the <a href="https://aws.amazon.com/vpc/pricing/" target="_blank">AWS NAT Gateway Pricing page</a> for more details.)</p>
<p><img alt="TinyStacks - configure VPC" src="../img/tinystacks-vpc-nat-gateway.png"/></p>
<p>Note that serverless applications, by default, do not run in a VPC. You can, however, opt to run them in a VPC that's already defined in your AWS account. </p>
<h3 id="add-a-database">Add a Database</h3>
<p>Click <strong>Enable</strong> to create an Amazon RDS Postgres database, an Amazon RDS MySQL database, or a Redis in-memory database for your account. Use the settings option to select an existing database instead and to configure other database-related options. </p>
<p>You can add one database at stack creation time. After the stack's first stage finishes deploying, you can add other databases of different types via the stack's <strong>Settings</strong> page. For more information, see <a href="../database/">Databases</a>.</p>
<h3 id="amazon-ecs-container-architecture-only">Amazon ECS (container architecture only)</h3>
<p>Configure build and scale settings for your Amazon ECS cluster, such as the size of the Amazon EC2 instances used in your cluster. (If you're not familiar with these settings, you can leave them as the default for now.)</p>
<h3 id="aws-lambda-serverless-architecture-only">AWS Lambda (serverless architecture only)</h3>
<p>Configure scale settings for your AWS Lambda function, including the memory available to your application and the runtime timeout setting. (If you're not familiar with these settings, you can leave them as the default for now.)</p>
<p><img alt="TinyStacks - select serverless" src="../img/serverless-settings.png"/></p>
<h3 id="front-end-routing">Front-End Routing</h3>
<p>Choose between using Amazon API Gateway or Application Load Balancer for front end application routing. </p>
<p>You can change any of these options now or change them later, after your original deployment. Your stack will also build as is, without any additional configuration. For now, start the creation of your first stack by clicking <strong>Build</strong>.</p>
<h2 id="testing-your-stack">Testing your stack</h2>
<p>Once you're ready, click the <strong>Build</strong> button to build your Docker container and deploy it to AWS. </p>
<p>Your application's environment will take a few minutes to build. We'll present detailed status updates in the upper-right corner of this as we build out your stack.</p>
<p>Once it's done, you'll be taken to the <strong>Stacks</strong> page on your TinyStacks account, where you can see your running stack listed. </p>
<p><img alt="TinyStacks - list of stacks in your account" src="../img/tinystacks-create-12.jpg"/></p>
<p>Click on your stack's name to navigate to the Stack Details page. </p>
<p><img alt="TinyStacks - stack details page" src="../img/tinystacks-create-13.jpg"/></p>
<p>This page shows your stack and all of the stages you've defined. The initial stack creation process creates a single stage named <code>dev</code>. You can use the <strong>Add stage</strong> button to add more stages at any time.</p>
<p>For now, let's test out the dev stack and ensure it's working. On the lower right corner of the <code>dev</code> box, click <strong>Copy endpoint</strong>. </p>
<p>You can use this base URL to access a valid page or REST API call in your application. If everything is configured correctly, you should see your application return an appropriate response to your request.</p>
<h2 id="properly-containerizing-your-application">Properly containerizing your application</h2>
<p>By following the steps above, your application should deploy and run in the cloud. However, you may notice some issues running your code if you haven't prepared your application to run in a container. </p>
<p><a href="../architecture/">As explained in our architectural overview</a>, a Docker container is a virtualized operating system that contains all of the executable files, scripts, shared libraries, configuration files and other dependencies required for your application to run. In order to scale your application to handle upwards of millions of requests, your AWS account will need to run multiple copies of this container across multiple nodes in an Amazon ECS cluster. </p>
<p>If your application has been designed as a monolithic application, it may make certain assumptions about its runtime environment that won't hold true after your application is containerized. If you are seeing errors or strange behavior in your application, here are a few things to consider. </p>
<h3 id="filesystem-storage">Filesystem storage</h3>
<p>Each running Docker container instance has its own virtualized filesystem. Data written to this filesystem in one running container instance won't be visible to other running instances. Ensure that any data that all container instances must access is written to a shared location - e.g., a database, a cloud storage service like Amazon S3, or an in-memory cache server like <a href="https://aws.amazon.com/elasticache/" target="_blank">Amazon ElastiCache</a>.</p>
<h3 id="configuration">Configuration</h3>
<p>Each running container instance will need its own copies of whatever configuration files your application might need. If you need to update any of these configuration files, you will need either to push changes through Git, or store the configuration in a location that all of your running container instances can access dynamically (such as Amazon S3). </p>
<h3 id="shared-memory">Shared memory</h3>
<p>A monolithic application running on a large server or virtual machine may cache some values in memory. This lightens the load on the application's database and can speed up responses to user requests. </p>
<p>However, naive caching won't work in a scenario where multiple instances of your application are running. Additionally, in serverless applications, AWS will shut down instances of your application if they don't receive traffic within a given time period.</p>
<p>If you are running with a Container framework, you can mitigate this issue in the short term by constraining your application to launch only a single instance of your container. In the long term, you can integrate a shared memory cache such as <a href="https://aws.amazon.com/elasticache/" target="_blank">Amazon ElastiCache</a> into your application. </p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Create your first stack" class="md-footer__link md-footer__link--prev" href="../create-stack/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Create your first stack
            </div>
</div>
</a>
<a aria-label="Next: Architecture" class="md-footer__link md-footer__link--next" href="../architecture/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Architecture
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
</div>
<div class="md-social">
<a class="md-social__link" href="https://www.tinystacks.com" rel="noopener" target="_blank" title="www.tinystacks.com">
<svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1H392c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.6H32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24z"></path></svg>
</a>
<a class="md-social__link" href="https://www.youtube.com/channel/UC21VAvNozfMxrcappmJ8EBA" rel="noopener" target="_blank" title="www.youtube.com">
<svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg>
</a>
<a class="md-social__link" href="https://twitter.com/Tiny_Stacks" rel="noopener" target="_blank" title="twitter.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
</a>
<a class="md-social__link" href="https://www.linkedin.com/company/tinystacks" rel="noopener" target="_blank" title="www.linkedin.com">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>
</a>
<a class="md-social__link" href="https://github.com/tinystacks" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-social__link" href="mailto:support@tinystacks.com" rel="noopener" target="_blank" title="">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0L0 176z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["toc.integrate", "toc.expand"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
</body>
</html>